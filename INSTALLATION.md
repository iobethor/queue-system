# –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –û—á–µ—Ä–µ–¥—å—é
## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –£—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Ubuntu 22.04/24.04 LTS –∏–ª–∏ Debian 11/12
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: 2 —è–¥—Ä–∞
- **–ü–∞–º—è—Ç—å**: 4 GB RAM
- **–î–∏—Å–∫**: 20 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–°–µ—Ç—å**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Ubuntu 24.04 LTS
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: 4+ —è–¥–µ—Ä
- **–ü–∞–º—è—Ç—å**: 8+ GB RAM
- **–î–∏—Å–∫**: 50+ GB SSD
- **–°–µ—Ç—å**: –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π IP-–∞–¥—Ä–µ—Å

### üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-repo/electronic-queue.git
cd electronic-queue

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞
wget https://your-server.com/electronic-queue.zip
unzip electronic-queue.zip
cd electronic-queue
```

#### 2. –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x deployment/complete-install.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
sudo deployment/complete-install.sh
```

–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∑–∞–ø—Ä–æ—Å–∏—Ç:
- –î–æ–º–µ–Ω (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- Email –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –¥–æ–º–µ–Ω)
- –ü–∞—Ä–æ–ª—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –£—Å—Ç–∞–Ω–æ–≤–∫—É Ollama AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –£—Å—Ç–∞–Ω–æ–≤–∫—É RHVoice (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ü–æ–¥–¥–µ—Ä–∂–∫—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
1. **–í–µ–±-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - `/` - –û–Ω–ª–∞–π–Ω –∑–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º
2. **–¢–µ—Ä–º–∏–Ω–∞–ª** - `/terminal` - –í—ã–¥–∞—á–∞ —Ç–∞–ª–æ–Ω–æ–≤
3. **–û–ø–µ—Ä–∞—Ç–æ—Ä** - `/operator` - –†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
4. **–¢–∞–±–ª–æ** - `/display` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–∞–±–ª–æ
5. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** - `/admin` - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **Frontend**: React 18, TypeScript, TailwindCSS
- **Backend**: Node.js 20, Express.js
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 16
- **Real-time**: WebSocket
- **–ì–æ–ª–æ—Å**: RHVoice (—Ä—É—Å—Å–∫–∏–µ –≥–æ–ª–æ—Å–∞)
- **AI**: Ollama (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üîß –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
sudo apt update && sudo apt upgrade -y
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
echo "deb http://apt.postgresql.org/pub/repos/apt/ $(lsb_release -cs)-pgdg main" | sudo tee /etc/apt/sources.list.d/pgdg.list
sudo apt update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt install -y postgresql-16 postgresql-client-16

# –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
sudo -u postgres psql
CREATE USER queue_user WITH PASSWORD 'your_password';
CREATE DATABASE queue_db OWNER queue_user;
\q
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs
```

#### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /opt/electronic-queue
sudo chown $USER:$USER /opt/electronic-queue

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
cp -r * /opt/electronic-queue/
cd /opt/electronic-queue

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cat > .env <<EOF
DATABASE_URL=postgresql://queue_user:your_password@localhost:5432/queue_db
PGHOST=localhost
PGPORT=5432
PGUSER=queue_user
PGPASSWORD=your_password
PGDATABASE=queue_db
NODE_ENV=production
PORT=5000
SESSION_SECRET=$(openssl rand -base64 32)
EOF

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npm run build

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:push
```

#### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
```bash
sudo apt install -y nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/nginx/sites-available/electronic-queue
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```nginx
upstream app_backend {
    server 127.0.0.1:5000;
}

server {
    listen 80;
    server_name your-domain.com;
    
    client_max_body_size 50M;
    
    location /ws {
        proxy_pass http://app_backend;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
    
    location / {
        proxy_pass http://app_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
sudo ln -s /etc/nginx/sites-available/electronic-queue /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

#### 6. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo nano /etc/systemd/system/electronic-queue.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```ini
[Unit]
Description=Electronic Queue System
After=network.target postgresql.service

[Service]
Type=simple
User=www-data
WorkingDirectory=/opt/electronic-queue
ExecStart=/usr/bin/node server/index.js
Restart=always
Environment="NODE_ENV=production"

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl daemon-reload
sudo systemctl enable electronic-queue
sudo systemctl start electronic-queue
```

### üéôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ RHVoice (–≥–æ–ª–æ—Å–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt install -y build-essential cmake libpulse-dev espeak-ng

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞
cd /tmp
git clone https://github.com/RHVoice/RHVoice.git
cd RHVoice
mkdir build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local
make -j$(nproc)
sudo make install
sudo ldconfig

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –≥–æ–ª–æ—Å–æ–≤
cd /usr/local/share/RHVoice/voices
sudo wget https://github.com/RHVoice/RHVoice/releases/download/1.8.0/elena.zip
sudo unzip elena.zip
```

### ü§ñ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama (AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
curl -fsSL https://ollama.ai/install.sh | sh

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π
ollama pull llama3.2:3b
ollama pull qwen2.5:3b

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl enable ollama
sudo systemctl start ollama
```

### üìü –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–æ

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ COM-–ø–æ—Ä—Ç:
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ USB-COM –∞–¥–∞–ø—Ç–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç: `ls -la /dev/ttyUSB*`
3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É: `sudo usermod -aG dialout $USER`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–∞–±–ª–æ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

#### –ü—Ä–æ—Ç–æ–∫–æ–ª —Ç–∞–±–ª–æ:
- –°–∫–æ—Ä–æ—Å—Ç—å: 9600 –±–æ–¥
- –§–æ—Ä–º–∞—Ç: 8N1
- –ö–æ–º–∞–Ω–¥—ã: $E0 –ø—Ä–æ—Ç–æ–∫–æ–ª

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞:
```bash
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
```

#### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo journalctl -u electronic-queue -f

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log

# –õ–æ–≥–∏ PostgreSQL
sudo tail -f /var/log/postgresql/postgresql-16-main.log
```

#### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –ë–î
pg_dump -U queue_user queue_db > backup_$(date +%Y%m%d).sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
psql -U queue_user queue_db < backup_20250110.sql
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:
```bash
cd /opt/electronic-queue
git pull origin main
npm install
npm run build
npm run db:push
sudo systemctl restart electronic-queue
```

### üñ•Ô∏è –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞:

- **–õ–æ–∫–∞–ª—å–Ω–æ**: http://localhost:5000
- **–ü–æ –¥–æ–º–µ–Ω—É**: http://your-domain.com

#### –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã:
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: `/`
- –¢–µ—Ä–º–∏–Ω–∞–ª: `/terminal`
- –û–ø–µ—Ä–∞—Ç–æ—Ä: `/operator`
- –¢–∞–±–ª–æ: `/display`
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: `/admin`

### ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status electronic-queue

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp | grep 5000

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart electronic-queue
```

#### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql -U queue_user -d queue_db -h localhost

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
sudo -u postgres psql
\du
\l
```

#### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–æ–ª–æ—Å
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ RHVoice
RHVoice-test -l

# –ü—Ä–æ–≤–µ—Ä–∫–∞ espeak
espeak-ng --version

# –¢–µ—Å—Ç –≥–æ–ª–æ—Å–∞
echo "–¢–µ—Å—Ç –≥–æ–ª–æ—Å–∞" | RHVoice-test -p elena
```

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
3. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub
4. –°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

### üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

---

¬© 2025 –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –û—á–µ—Ä–µ–¥—å—é